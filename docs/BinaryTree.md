### ä»€ä¹ˆæ˜¯æ ˆï¼ŸğŸ“š

**æ ˆï¼ˆStackï¼‰** æ˜¯ä¸€ç§ç®€å•ä½†å¼ºå¤§çš„ **æ•°æ®ç»“æ„** ï¼Œå®ƒéµå¾ª **"åè¿›å…ˆå‡º"ï¼ˆLast In, First Out - LIFOï¼‰** çš„åŸåˆ™ã€‚æƒ³è±¡ä¸€ä¸‹ç°å®ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼š

ğŸ½ï¸  **ç›˜å­å †å ** ï¼š

* ä½ æ´—å¹²å‡€çš„ç›˜å­ä¼šä¸€ä¸ªä¸ªå èµ·æ¥
* æœ€åæ”¾ä¸Šå»çš„ç›˜å­ï¼ˆæ ˆé¡¶ï¼‰æ€»æ˜¯æœ€å…ˆè¢«å–ç”¨
* æœ€å…ˆæ”¾ä¸‹çš„ç›˜å­ï¼ˆæ ˆåº•ï¼‰æœ€åæ‰ä¼šè¢«ç”¨åˆ°

è¿™å°±æ˜¯æ ˆçš„æ ¸å¿ƒç‰¹æ€§ï¼

---

### æ ˆçš„æ ¸å¿ƒæ“ä½œ ğŸ”§

æ ˆåªæœ‰ä¸¤ä¸ªåŸºæœ¬æ“ä½œï¼ˆå°±åƒå ç›˜å­ï¼‰ï¼š

1. **å…¥æ ˆï¼ˆPushï¼‰** â†’ æŠŠæ–°å…ƒç´ æ”¾åˆ°æ ˆé¡¶
2. **å‡ºæ ˆï¼ˆPopï¼‰** â†’ å–å‡ºæ ˆé¡¶å…ƒç´ 

> è¿˜æœ‰ä¸€ä¸ªå¸¸ç”¨æ“ä½œï¼š**æŸ¥çœ‹æ ˆé¡¶ï¼ˆPeekï¼‰** â†’ çœ‹æ ˆé¡¶å…ƒç´ ä½†ä¸å–å‡º

---

### æ ˆçš„ä»£ç ç¤ºä¾‹ï¼ˆPythonï¼‰ğŸ

```python
stack = []  # ç”¨åˆ—è¡¨æ¨¡æ‹Ÿæ ˆ

# å…¥æ ˆæ“ä½œï¼ˆæ·»åŠ å…ƒç´ ï¼‰
stack.append(1)   # æ ˆï¼š[1]
stack.append(2)   # æ ˆï¼š[1, 2]
stack.append(3)   # æ ˆï¼š[1, 2, 3]

# å‡ºæ ˆæ“ä½œï¼ˆç§»é™¤å¹¶è¿”å›æ ˆé¡¶å…ƒç´ ï¼‰
print(stack.pop())  # è¾“å‡ºï¼š3 â†’ æ ˆå˜ä¸ºï¼š[1, 2]
print(stack.pop())  # è¾“å‡ºï¼š2 â†’ æ ˆå˜ä¸ºï¼š[1]
```

---

### ä¸ºä»€ä¹ˆåœ¨éå†äºŒå‰æ ‘æ—¶ç”¨æ ˆï¼ŸğŸŒ³

åœ¨ä½ ä¹‹å‰çœ‹åˆ°çš„äºŒå‰æ ‘éå†ä»£ç ä¸­ï¼š

```python
stack = [(WHITE, root)]  # åˆå§‹åŒ–æ ˆ
while stack:
    color, node = stack.pop()  # å‡ºæ ˆ
    # ...å¤„ç†èŠ‚ç‚¹...
    if color == WHITE:
        stack.append((WHITE, node.right))  # å…¥æ ˆ
        stack.append((GRAY, node))
        stack.append((WHITE, node.left))
```

æ ˆåœ¨è¿™é‡Œå‘æŒ¥äº†å…³é”®ä½œç”¨ï¼š

1. **ä»£æ›¿é€’å½’** ï¼šé€’å½’æœ¬è´¨å°±æ˜¯æ ˆæ“ä½œï¼Œç”¨æ˜¾å¼æ ˆå¯ä»¥é¿å…é€’å½’æ·±åº¦é™åˆ¶
2. **æ§åˆ¶è®¿é—®é¡ºåº** ï¼šé€šè¿‡æ§åˆ¶å…¥æ ˆé¡ºåºï¼ˆå³â†’æ ¹â†’å·¦ï¼‰ï¼Œå®ç°ä¸­åºéå†ï¼ˆå·¦â†’æ ¹â†’å³ï¼‰
3. **ä¿å­˜çŠ¶æ€** ï¼šç”¨é¢œè‰²æ ‡è®°ä¿å­˜èŠ‚ç‚¹çš„å¤„ç†çŠ¶æ€ï¼ˆæ˜¯å¦å·²è®¿é—®ï¼‰

### Hot100-[94. äºŒå‰æ ‘çš„ä¸­åºéå†](https://leetcode.cn/problems/binary-tree-inorder-traversal/)

**ä¸­åºéå†çš„é¡ºåºæ˜¯ï¼šå·¦å­æ ‘ -> æ ¹èŠ‚ç‚¹ -> å³å­æ ‘**

è¿™æ®µä»£ç æ˜¯ç”¨è¿­ä»£ï¼ˆéé€’å½’ï¼‰çš„æ–¹å¼å®ç°äºŒå‰æ ‘çš„ **ä¸­åºéå†** ï¼ˆå·¦å­æ ‘ â†’ æ ¹èŠ‚ç‚¹ â†’ å³å­æ ‘ï¼‰ã€‚å®ƒå·§å¦™åœ°ç”¨é¢œè‰²æ ‡è®°æ³•æ¥æ¨¡æ‹Ÿé€’å½’è¿‡ç¨‹ï¼Œé¿å…ä½¿ç”¨é€’å½’å‡½æ•°è°ƒç”¨æ ˆã€‚

#### æ ¸å¿ƒæ€è·¯ ğŸ§ 

1. **ç”¨é¢œè‰²æ ‡è®°èŠ‚ç‚¹çŠ¶æ€** ï¼š

* **ç™½è‰²ï¼ˆWHITEï¼‰** ï¼šæœªè®¿é—®çš„èŠ‚ç‚¹ï¼ˆéœ€è¦ç»§ç»­å¤„ç†å…¶å­èŠ‚ç‚¹ï¼‰
* **ç°è‰²ï¼ˆGRAYï¼‰** ï¼šå·²è®¿é—®çš„èŠ‚ç‚¹ï¼ˆå¯ä»¥ç›´æ¥è¾“å‡ºå€¼ï¼‰

1. **ä½¿ç”¨æ ˆæ¨¡æ‹Ÿé€’å½’** ï¼š

* æ ˆä¸­å­˜å‚¨ `(é¢œè‰², èŠ‚ç‚¹)` å…ƒç»„
* é€šè¿‡æ§åˆ¶å…¥æ ˆé¡ºåºå®ç°ä¸­åºéå†

```python
# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution:
    def inorderTraversal(self, root: Optional[TreeNode]) -> List[int]:
        WHITE, GRAY = 0, 1  # å®šä¹‰é¢œè‰²æ ‡è®°ï¼š0=æœªè®¿é—®ï¼Œ1=å·²è®¿é—®
        res = []  # å­˜å‚¨éå†ç»“æœ
        stack = [(WHITE, root)]  # åˆå§‹åŒ–æ ˆï¼Œæ ¹èŠ‚ç‚¹æ ‡è®°ä¸ºæœªè®¿é—®
      
        while stack:  # å½“æ ˆä¸ä¸ºç©ºæ—¶å¾ªç¯
            color, node = stack.pop()  # å¼¹å‡ºæ ˆé¡¶å…ƒç´ 
            if node is None:
                continue  # é‡åˆ°ç©ºèŠ‚ç‚¹è·³è¿‡
          
            if color == WHITE:  # å¦‚æœæ˜¯æœªè®¿é—®èŠ‚ç‚¹
            # æŒ‰ã€å³â†’æ ¹â†’å·¦ã€‘çš„é€†åºå…¥æ ˆï¼ˆå› ä¸ºæ ˆæ˜¯LIFOåè¿›å…ˆå‡ºï¼‰
                stack.append((WHITE, node.right))  # å³å­æ ‘ï¼ˆæœªè®¿é—®ï¼‰
                stack.append((GRAY, node))         # å½“å‰èŠ‚ç‚¹ï¼ˆæ ‡è®°ä¸ºå·²è®¿é—®ï¼‰
                stack.append((WHITE, node.left))   # å·¦å­æ ‘ï¼ˆæœªè®¿é—®ï¼‰
          
            else:  # å¦‚æœæ˜¯å·²è®¿é—®èŠ‚ç‚¹ï¼ˆç°è‰²ï¼‰
                res.append(node.val)  # è¾“å‡ºèŠ‚ç‚¹å€¼
      
        return res  # è¿”å›éå†ç»“æœ
```

ğŸŒ° ä¸¾ä¸ªæ —å­ï¼ˆäºŒå‰æ ‘ï¼š1æ˜¯æ ¹ï¼Œ2åœ¨å·¦ï¼Œ3åœ¨å³ï¼‰

```
    1
   / \
  2   3
```

**æ­£ç¡®ä¸­åºé¡ºåºï¼š2 â†’ 1 â†’ 3**

 **æ‰§è¡Œè¿‡ç¨‹** ï¼š

1. èµ·ç‚¹ï¼š`[(ç™½,1)]`
2. å¼¹å‡º1ï¼ˆç™½ï¼‰â†’ è®°å½•ï¼š`å³é—¨3(ç™½) â†’ 1(ç°) â†’ å·¦é—¨2(ç™½)`
   ğŸ“’ æœ¬æœ¬å˜æˆï¼š`[ (ç™½,3), (ç°,1), (ç™½,2) ]`
3. å¼¹å‡º2ï¼ˆç™½ï¼‰â†’ è®°å½•ï¼š`2çš„å³é—¨(ç©º) â†’ 2(ç°) â†’ 2çš„å·¦é—¨(ç©º)`
   ğŸ“’ æœ¬æœ¬å˜æˆï¼š`[ (ç™½,3), (ç°,1), (ç°,2) ]`
4. å¼¹å‡º2ï¼ˆç°ï¼‰â†’ æ‹¿å®ç‰© `2` ğŸ’ â†’ å®ç‰©è¢‹ `[2]`
5. å¼¹å‡º1ï¼ˆç°ï¼‰â†’ æ‹¿å®ç‰© `1` ğŸ’ â†’ å®ç‰©è¢‹ `[2,1]`
6. å¼¹å‡º3ï¼ˆç™½ï¼‰â†’ è®°å½•ï¼š`3çš„å³é—¨(ç©º) â†’ 3(ç°) â†’ 3çš„å·¦é—¨(ç©º)`
   ğŸ“’ æœ¬æœ¬å˜æˆï¼š`[ (ç°,3) ]`
7. å¼¹å‡º3ï¼ˆç°ï¼‰â†’ æ‹¿å®ç‰© `3` ğŸ’ â†’ å®ç‰©è¢‹ `[2,1,3]`

### Hot100-[104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦](https://leetcode.cn/problems/maximum-depth-of-binary-tree/)

è¯·çœ‹[ã€åŸºç¡€ç®—æ³•ç²¾è®² 09ã€‘](https://leetcode.cn/link/?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1UD4y1Y769%2F)

```python
# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution:
    def maxDepth(self, root: Optional[TreeNode]) -> int:
        if root is None:
            return 0
        l_depth=self.maxDepth(root.left)
        r_depth=self.maxDepth(root.right)
        return max(l_depth,r_depth)+1

```

### Hot100-[226. ç¿»è½¬äºŒå‰æ ‘](https://leetcode.cn/problems/invert-binary-tree/)

é€’å½’è°ƒç”¨ invertTree(root.left)ï¼Œè·å–åˆ°å·¦å­æ ‘ç¿»è½¬åçš„ç»“æœ leftã€‚
é€’å½’è°ƒç”¨ invertTree(root.right)ï¼Œè·å–åˆ°å³å­æ ‘ç¿»è½¬åçš„ç»“æœ rightã€‚
äº¤æ¢å·¦å³å„¿å­ï¼Œå³æ›´æ–° root.left ä¸º rightï¼Œæ›´æ–° root.right ä¸º leftã€‚
è¿”å› rootã€‚
é€’å½’è¾¹ç•Œï¼šå¦‚æœ root æ˜¯ç©ºèŠ‚ç‚¹ï¼Œè¿”å›ç©ºã€‚

```python
# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution:
    def invertTree(self, root: Optional[TreeNode]) -> Optional[TreeNode]:
        if root is None:
            return None
        l=self.invertTree(root.left)  # ç¿»è½¬å·¦å­æ ‘
        r=self.invertTree(root.right)  # ç¿»è½¬å³å­æ ‘
        root.left=r # äº¤æ¢å·¦å³å„¿å­
        root.right=l
        return root
```

é€’å½’è°ƒç”¨ invertTree(root.left)ï¼Œè·å–åˆ°å·¦å­æ ‘ç¿»è½¬åçš„ç»“æœ leftã€‚
é€’å½’è°ƒç”¨ invertTree(root.right)ï¼Œè·å–åˆ°å³å­æ ‘ç¿»è½¬åçš„ç»“æœ rightã€‚
äº¤æ¢å·¦å³å„¿å­ï¼Œå³æ›´æ–° root.left ä¸º rightï¼Œæ›´æ–° root.right ä¸º leftã€‚
è¿”å› rootã€‚
é€’å½’è¾¹ç•Œï¼šå¦‚æœ root æ˜¯ç©ºèŠ‚ç‚¹ï¼Œè¿”å›ç©ºã€‚

### Hot100-[101. å¯¹ç§°äºŒå‰æ ‘](https://leetcode.cn/problems/symmetric-tree/)

ğŸŒ³ è¶…é€šä¿—è§£é‡Šï¼šåˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦å¯¹ç§°ï¼ˆåƒç…§é•œå­ä¸€æ ·ï¼‰

æƒ³è±¡ä½ æœ‰ä¸€æ£µäºŒå‰æ ‘ï¼Œè¦åˆ¤æ–­å®ƒæ˜¯å¦å¯¹ç§°ï¼ˆå·¦å³åƒé•œå­ä¸€æ ·ï¼‰ï¼Œå°±åƒæ£€æŸ¥ä¸€å¼ è„¸æ˜¯å¦å·¦å³å¯¹ç§°ã€‚è¿™æ®µä»£ç ç”¨é€’å½’çš„æ–¹å¼å®ç°äº†è¿™ä¸ªåŠŸèƒ½ã€‚

ğŸ§© æ ¸å¿ƒæ€è·¯ï¼šæˆåŒæˆå¯¹æ¯”è¾ƒ

1. **æ ¹èŠ‚ç‚¹ä¸ºç©º** â†’ ç©ºæ ‘ç®—å¯¹ç§°ï¼ˆè¿”å› `True`ï¼‰
2. **æ ¹èŠ‚ç‚¹ä¸ç©º** â†’ æ¯”è¾ƒå·¦å­æ ‘å’Œå³å­æ ‘æ˜¯å¦äº’ä¸ºé•œåƒ

ğŸ‘¯ é•œåƒæ¯”è¾ƒè§„åˆ™ï¼ˆé€’å½’å‡½æ•° `recur`ï¼‰ï¼š

æ¯æ¬¡æ¯”è¾ƒä¸¤ä¸ªèŠ‚ç‚¹ï¼ˆæ¯”å¦‚å·¦å­æ ‘çš„AèŠ‚ç‚¹å’Œå³å­æ ‘çš„BèŠ‚ç‚¹ï¼‰ï¼š

1. **ä¸¤ä¸ªéƒ½ä¸ºç©º** â†’ å¯¹ç§° âœ…
2. **ä¸€ä¸ªç©ºä¸€ä¸ªä¸ç©º** â†’ ä¸å¯¹ç§° âŒ
3. **å€¼ä¸ç›¸ç­‰** â†’ ä¸å¯¹ç§° âŒ
4. **å€¼ç›¸ç­‰** â†’ ç»§ç»­é€’å½’æ£€æŸ¥ï¼š
   * Açš„å·¦å­©å­ vs Bçš„å³å­©å­ï¼ˆå¤–å±‚æ¯”è¾ƒï¼‰
   * Açš„å³å­©å­ vs Bçš„å·¦å­©å­ï¼ˆå†…å±‚æ¯”è¾ƒï¼‰

ğŸŒ° ä¸¾ä¸ªæ —å­ï¼ˆå¯¹ç§°æ ‘ï¼‰ï¼š

```
        1
       / \
      2   2
     / \ / \
    3  4 4 3
```

 **æ£€æŸ¥æ­¥éª¤** ï¼š

1. æ ¹èŠ‚ç‚¹1ä¸ç©º â†’ æ¯”è¾ƒå·¦2å’Œå³2
2. å·¦2å’Œå³2å€¼ç›¸ç­‰ â†’ æ¯”è¾ƒï¼š
   * å·¦2çš„å·¦3 vs å³2çš„å³3 â†’ ç›¸ç­‰
   * å·¦2çš„å³4 vs å³2çš„å·¦4 â†’ ç›¸ç­‰
3. æ‰€æœ‰æ¯”è¾ƒé€šè¿‡ â†’ æ ‘å¯¹ç§° âœ…

ğŸš« åä¾‹ï¼ˆä¸å¯¹ç§°æ ‘ï¼‰ï¼š

```
        1
       / \
      2   2
       \   \
        3   3
```

 **æ£€æŸ¥æ­¥éª¤** ï¼š

1. æ ¹èŠ‚ç‚¹1ä¸ç©º â†’ æ¯”è¾ƒå·¦2å’Œå³2
2. å·¦2å’Œå³2å€¼ç›¸ç­‰ â†’ æ¯”è¾ƒï¼š
   * å·¦2çš„å³3 vs å³2çš„å·¦ç©º â†’ ä¸å¯¹ç§° âŒ

ğŸ“œ ä»£ç é€è¡Œè§£é‡Šï¼š

```python
class Solution:
    def isSymmetric(self, root: Optional[TreeNode]) -> bool:
        def recur(L, R):  # é€’å½’æ¯”è¾ƒä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦é•œåƒå¯¹ç§°
            # ä¸¤ä¸ªéƒ½ä¸ºç©º â†’ å¯¹ç§°
            if not L and not R: 
                return True  
            # ä¸€ä¸ªç©ºæˆ–å€¼ä¸ç­‰ â†’ ä¸å¯¹ç§°
            if not L or not R or L.val != R.val: 
                return False  
            # ç»§ç»­æ¯”è¾ƒï¼šå¤–å±‚ï¼ˆLå·¦ vs Rå³ï¼‰å’Œå†…å±‚ï¼ˆLå³ vs Rå·¦ï¼‰
            return recur(L.left, R.right) and recur(L.right, R.left)

        # ç©ºæ ‘å¯¹ç§°ï¼Œå¦åˆ™æ¯”è¾ƒå·¦å³å­æ ‘
        return not root or recur(root.left, root.right)
```

### Hot100-[543. äºŒå‰æ ‘çš„ç›´å¾„](https://leetcode.cn/problems/diameter-of-binary-tree/)

äºŒå‰æ ‘çš„ **ç›´å¾„** æ˜¯æŒ‡æ ‘ä¸­ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´æœ€é•¿è·¯å¾„çš„ **é•¿åº¦** ã€‚è¿™æ¡è·¯å¾„å¯èƒ½ç»è¿‡ä¹Ÿå¯èƒ½ä¸ç»è¿‡æ ¹èŠ‚ç‚¹ `root` ã€‚

ä¸¤èŠ‚ç‚¹ä¹‹é—´è·¯å¾„çš„ **é•¿åº¦** ç”±å®ƒä»¬ä¹‹é—´è¾¹æ•°è¡¨ç¤ºã€‚
